(this["webpackJsonpcapita-emp"]=this["webpackJsonpcapita-emp"]||[]).push([[0],{81:function(e,t,a){e.exports=a(93)},86:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),l=a.n(i),o=(a(86),a(12)),c=a(11),s=a(25),m=a(26),u=a(17),p=a(30),h=a(29),d=a(143),E=a(128),f=a(95),v=a(124),b=a(68),g=a(127),y=a(96),O=function(e){var t=e.classes,a=e.name,n=e.email;return r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(f.a,{elavation:3,className:t.paper},r.a.createElement(v.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(b.a,null,a),r.a.createElement(b.a,null,r.a.createElement(d.a,{color:"text.secondary"},n)),r.a.createElement(g.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},r.a.createElement(y.a,{to:"/user/"+n,component:o.b,size:"small"}," Perfil"),r.a.createElement(y.a,{to:"/user/"+n+"/oportunidades",component:o.b,size:"small"},"Oportunidades")))))},j=Object(E.a)((function(e){return{paper:{padding:e.spacing(1),color:e.palette.text.primary}}})),k=function(e){var t=e.clients,a=j();return r.a.createElement("div",{className:a.root},r.a.createElement(v.a,{container:!0,spacing:3,justify:"center"},Object.keys(t).map((function(e){var n=t[e];return r.a.createElement(O,{key:e,email:e,classes:a,name:n.name})}))))},C=a(129),x=a(145),w=function(e){return r.a.createElement(C.a,{maxWidth:"sm"},r.a.createElement(d.a,{marginBottom:"2.5%",display:"flex",justifyContent:"center"},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(x.a,{onInput:e.handleFilter,id:"standard-basic",label:"Filtrar por nome"}))))},S=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={clients:{},visibleClients:{}},n.handleFilter=n.handleFilter.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/users").then((function(e){return e.json()})).then((function(t){e.setState((function(e){return{clients:t,visibleClients:t}}))})).catch(console.log)}},{key:"handleFilter",value:function(e){var t=this,a=e.target.value.toLowerCase(),n=Object.keys(this.state.clients).filter((function(e){return t.state.clients[e].name.toLowerCase().includes(a)})).reduce((function(e,a){return e[a]=t.state.clients[a],e}),{});this.setState((function(e){return{visibleClients:n}}))}},{key:"render",value:function(){return r.a.createElement(d.a,{marginLeft:"5%",marginRight:"5%"},r.a.createElement(w,{handleFilter:this.handleFilter}),r.a.createElement(k,{clients:this.state.visibleClients}))}}]),a}(r.a.Component),I=a(133),F=a(134),A=a(135),T=a(136),P=a(137),z=a(48),B=a.n(z),L=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).email=e.match.params.email,n.state={client:{}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/user/".concat(this.email,"/info")).then((function(e){return e.json()})).then((function(t){e.setState((function(e){return{client:t}}))})).catch(console.log)}},{key:"render",value:function(){return r.a.createElement(d.a,{marginLeft:"5%",marginRight:"5%"},r.a.createElement(b.a,{variant:"h5",gutterBottom:!0},this.state.client.name),r.a.createElement(I.a,{component:f.a},r.a.createElement(F.a,{"aria-label":"simple table"},r.a.createElement(A.a,null,r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Email"),r.a.createElement(P.a,{align:"right"},this.state.client.email)),r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Termos Aceitos"),r.a.createElement(P.a,{align:"right"},this.state.client.agreedTerms?"Sim":"N\xe3o")),r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Ativo"),r.a.createElement(P.a,{align:"right"},this.state.client.isActive?"Sim":"N\xe3o")),r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Telefone/Celular"),r.a.createElement(P.a,{align:"right"},this.state.client.phone)),r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Renda"),r.a.createElement(P.a,{align:"right"},r.a.createElement(B.a,{value:this.state.client.revenue,displayType:"text",thousandSeparator:!0,prefix:"$"})))))),r.a.createElement(d.a,{display:"flex",justifyContent:"center",marginTop:"2%"},r.a.createElement(g.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},r.a.createElement(y.a,{to:"/",component:o.b},"Voltar"),r.a.createElement(y.a,{to:"/user/".concat(this.email,"/oportunidades"),component:o.b},"Oportunidades"))))}}]),a}(r.a.Component),N=function(){return r.a.createElement("div",null,"404 - ",r.a.createElement(o.b,{to:"/"},"Go Home"))},J=a(138),R=a(139),D=Object(E.a)((function(e){return{root:{flexGrow:1,marginBottom:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function H(){var e=D();return r.a.createElement("div",{className:e.root},r.a.createElement(J.a,{position:"static"},r.a.createElement(R.a,null,r.a.createElement(b.a,{variant:"h4",className:e.title},"Capital Empreendedor"),r.a.createElement(y.a,{color:"inherit",component:o.b,to:"/"},"P\xe1gina Inicial"))))}var M=a(141),G=a(132),V=a(147),W=a(142),$=a(148),q=function(e){var t=e.handleFilter,a=e.handleOrder,n=e.order,i=e.email;return r.a.createElement(d.a,{marginBottom:"3.5%",display:"flex",justifyContent:"space-evenly"},r.a.createElement(x.a,{onInput:t,id:"standard-basic",label:"Filtrar por institui\xe7\xe3o"}),r.a.createElement(G.a,null,r.a.createElement(V.a,{id:"simple-select-label"},"Ordem"),r.a.createElement(W.a,{labelId:"simple-select-label",id:"simple-select",value:n,onChange:a},r.a.createElement($.a,{value:"limit"},"Limite"),r.a.createElement($.a,{value:"interest"},"Juros"),r.a.createElement($.a,{value:"term"},"Prazo"))),r.a.createElement(y.a,{size:"small",component:o.b,color:"primary",to:"/user/".concat(i,"/oportunidades/add")},"Adc Oportunidade"))},K=function(e){var t=e.name,a=e.limit,n=e.interest,i=e.term,l=e.isActive,c=e.deleteFunc,s=e.email,m=e.id;return r.a.createElement(v.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(I.a,{component:f.a},r.a.createElement(F.a,{size:"small","aria-label":"opp table"},r.a.createElement(A.a,null,r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Institui\xe7\xe3o"),r.a.createElement(P.a,{align:"right"},t)),r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Limite"),r.a.createElement(P.a,{align:"right"},r.a.createElement(B.a,{value:a,displayType:"text",thousandSeparator:!0,prefix:"$"}))),r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Juros"),r.a.createElement(P.a,{align:"right"},r.a.createElement(B.a,{value:(100*n).toFixed(2),displayType:"text",suffix:"%"}))),r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Prazo"),r.a.createElement(P.a,{align:"right"},i," meses")),r.a.createElement(T.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Ativo"),r.a.createElement(P.a,{align:"right"},l?"Sim":"N\xe3o"))))),r.a.createElement(d.a,{display:"flex",justifyContent:"center"},r.a.createElement(y.a,{variant:"outlined",color:"primary",size:"small",component:o.b,to:"/user/".concat(s,"/oportunidades/edit/").concat(m)},"Editar"),r.a.createElement(y.a,{variant:"outlined",size:"small",color:"secondary",onClick:function(){return c(m)}},"Apagar")))},Q=a(56),U=a(140),X=a(144),Y=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={name:"",limit:0,interest:0,term:0,isActive:!0},n.handleInput=n.handleInput.bind(Object(u.a)(n)),n.handleCheck=n.handleCheck.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.id=e.match.params.id,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;"PATCH"==this.props.method&&fetch("/user/".concat(this.props.email,"/opportunities/").concat(this.id)).then((function(e){return e.json()})).then((function(t){e.setState((function(e){return Object(Q.a)({},t)}))})).catch(console.log)}},{key:"handleInput",value:function(e){var t=this;return function(a){var n=a.target.value;t.setState((function(t){var a={};return a[e]=n,a}))}}},{key:"handleCheck",value:function(e){this.setState((function(e){return{isActive:!e.isActive}}))}},{key:"handleSubmit",value:function(){var e=this,t=Object(Q.a)(Object(Q.a)({},this.state),{},{interest:this.state.interest/100});fetch("/user/".concat(this.props.email,"/opportunities").concat("PATCH"===this.props.method?"/".concat(this.id):""),{method:this.props.method||"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){if(!t.ok)throw new Error("error with connection");e.props.refresh(),e.props.history.push("/user/".concat(e.props.email,"/oportunidades"))})).catch(console.log)}},{key:"render",value:function(){return r.a.createElement(d.a,{marginBottom:"2.5%",component:"form"},r.a.createElement(v.a,{container:!0,spacing:3,justify:"space-between",alignItems:"center"},r.a.createElement(v.a,{item:!0,xs:6,sm:4,lg:2},r.a.createElement(x.a,{onInput:this.handleInput("name"),value:this.state.name,id:"name",label:"institui\xe7\xe3o"})),r.a.createElement(v.a,{item:!0,xs:6,sm:4,lg:2},r.a.createElement(x.a,{type:"number",onInput:this.handleInput("limit"),value:this.state.limit,id:"limit",label:"limite"})),r.a.createElement(v.a,{item:!0,xs:6,sm:4,lg:2},r.a.createElement(x.a,{type:"number",onInput:this.handleInput("interest"),value:this.state.interest,id:"interest",label:"juros (%)"})),r.a.createElement(v.a,{item:!0,xs:6,sm:4,lg:2},r.a.createElement(x.a,{type:"number",onInput:this.handleInput("term"),id:"term",label:"prazo (meses)",value:this.state.term})),r.a.createElement(v.a,{item:!0,xs:6,sm:4,lg:2},r.a.createElement(U.a,{control:r.a.createElement(X.a,{checked:this.state.isActive,onChange:this.handleCheck,color:"text.secondary"}),label:"ativo",labelPlacement:"start",color:"text.secondary"})),r.a.createElement(v.a,{item:!0,xs:6,sm:4,lg:2},r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:this.handleSubmit},"Enviar"),this.props.email?r.a.createElement(y.a,{color:"secondary",variant:"outlined",to:"/user/".concat(this.props.email,"/oportunidades"),component:o.b},"Voltar"):"")))}}]),a}(r.a.Component),Z=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).email=e.match.params.email,n.state={opps:[],visibleOpps:[],order:"interest",filter:"",currOpp:{}},n.handleFilter=n.handleFilter.bind(Object(u.a)(n)),n.handleOrder=n.handleOrder.bind(Object(u.a)(n)),n.deleteOpp=n.deleteOpp.bind(Object(u.a)(n)),n.updateOpps=n.updateOpps.bind(Object(u.a)(n)),n.history=e.history,n}return Object(m.a)(a,[{key:"deleteOpp",value:function(e){fetch("/user/".concat(this.email,"/opportunities/").concat(e)).then((function(e){return e.json()})).then(console.log).catch(console.log)}},{key:"handleOrder",value:function(e){var t=e.target.value;this.setState((function(e){return{order:t,visibleOpps:e.opps.sort((function(e,a){return e[t]-a[t]}))}}))}},{key:"handleFilter",value:function(e){var t=this,a=e.target.value.toLowerCase();this.setState((function(e){return{filter:a,visibleOpps:e.opps.filter((function(e){return e.name.toLowerCase().includes(a)})).sort((function(e,a){return e[t.state.order]-a[t.state.order]}))}}))}},{key:"componentDidMount",value:function(){this.updateOpps()}},{key:"updateOpps",value:function(){var e=this;fetch("/user/".concat(this.email,"/opportunities")).then((function(e){return e.json()})).then((function(t){e.setState((function(e){return{opps:t,visibleOpps:t}}))})).catch(console.log)}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{marginLeft:"5%",marginRight:"5%"},r.a.createElement(b.a,{variant:"h5",gutterBottom:!0},r.a.createElement(M.a,{color:"inherit",component:o.b,to:"/user/".concat(this.email)},this.email)),r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/user/:email/oportunidades"},r.a.createElement(q,{handleFilter:this.handleFilter,handleOrder:this.handleOrder,order:this.state.order,email:this.email}),r.a.createElement(v.a,{container:!0,spacing:3},this.state.visibleOpps.map((function(t,a){return r.a.createElement(K,Object.assign({id:a,deleteFunc:e.deleteOpp,email:e.email,key:a},t))})))),r.a.createElement(c.a,{path:"/user/:email/oportunidades/add",render:function(t){return r.a.createElement(Y,Object.assign({},t,{method:"POST",email:e.email}))}}),r.a.createElement(c.a,{path:"/user/:email/oportunidades/edit/:id",render:function(t){return r.a.createElement(Y,Object.assign({},t,{method:"PATCH",email:e.email,refresh:e.updateOpps}))}})))}}]),a}(r.a.Component),_=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",exact:!0,component:S}),r.a.createElement(c.a,{path:"/user/:email",exact:!0,component:L}),r.a.createElement(c.a,{path:"/user/:email/oportunidades",component:Z}),r.a.createElement(c.a,{component:N}))))},ee=function(){return r.a.createElement("div",null,r.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[81,1,2]]]);
//# sourceMappingURL=main.346f1359.chunk.js.map